# metrics

A service to log data from HackGT events.

## Installation

Clone the repository and run `npm install`.

Store an environment variable containing the URL of your MongoDB server in `MONGO_URL`, and the port you want to use for your node webserver in `PORT`

**Before using the service, create a collection called `metrics`**

## Endpoints

Every data JSON added to logs will have the values `_id`, `_timestamp` autogenerated. The user must input values for `_tag` and `_event`, which will also be appended to the user's data JSON

* GET `/api/events`
  * Get list of all event ids
* GET `/api/tags`
  * Get list of all tag ids
* GET `/api/event/:eventId`
  * Get all logs for this event with the id `eventId`
* GET `/api/tag/:tagId`
  * Get all logs with the given `tagId`
* GET `/api/event/:eventId/tag/:tagId`
  * Get all logs with tag `tagId` in an event `eventId`
* GET `/api/id/:logId`
  * Get the log that corresponds to the given `logId`
* GET `/api/listAll`
  * List all logs

* POST `/api/add/`
  * Add data to database. JSON header containing data, along with keys `_tag` and `_event` relating to the log
  
* DELETE `/api/:logId`
  * Remove the event with the logId `logId`
  
## Todo

* Add auth
  * Specifically to the delete method